毕业总结

1.JVM

它是一个虚构出来的计算机，是通过在实际的计算机上仿真模拟各种计算机功能来实现的。JVM有自己完善的硬件架构，如处理器、堆栈、寄存器等，还具有相应的指令系统。Java语言最重要的特点就是跨平台运行。使用JVM就是为了支持与操作系统无关，实现跨平台。

垃圾收集，了解不同GC的特性，根据系统实际情况选择GC及动态参数调整

2.NIO

NIO是一种非阻塞型的IO，例如，线程可以请求通道将数据读入缓冲区。当通道将数据读入缓冲区时，线程可以执行其他操作。一旦数据读入缓冲区，线程就可以继续处理它。将数据写入通道也是如此。

Java NIO包含一个"selectors“ 概念，一个selector可以通过事件监视多个channels,比如连接打开，数据抵达等；因此，一个线程可以监视多个通道的数据。

一个Java NIO包含以下几个核心的组件：

- Channels

- Buffers

- Selectors
  
  NIO有很多的类和组件，通道、缓冲区和选择器构成了API的核心。其他组件，如Pipe和FileLock，只是与三个核心组件一起使用的实用程序类。因此，我将在NIO概述中重点介绍这三个组件。

3.多线程并发编程

1.充分利用多核CPU的计算能力：通过并发编程的形式可以将多核CPU的计算能力发挥到极致，性能得到提升

2.方便进行业务拆分，提升系统并发能力和性能：在特殊的业务场景下，先天的就适合于并发编程。现在的系统动不动就要求百万级甚至千万级的并发量，而多线程并发编程正是开发高并发系统的基础，利用好多线程机制可以大大提高系统整体的并发能力以及性能。面对复杂业务模型，并行程序会比串行程序更适应业务需求，而并发编程更能吻合这种业务拆分 
3.并发编程三要素
原子性：原子，即一个不可再被分割的颗粒。原子性指的是一个或多个操作要么全部执行成功要么全部执行失败。

可见性：一个线程对共享变量的修改,另一个线程能够立刻看到。（synchronized,volatile）

有序性：程序执行的顺序按照代码的先后顺序执行。（处理器可能会对指令进行重排序）

4.Spring 和 ORM 等框架

定义：Spring是一个轻量级的IoC（控制反转）和AOP容器框架。

　　目的：用于简化企业应用程序的开发，使得开发者只需要关心业务需求。

　　常见的配置方式

- 基于XML的配置
- 基于注解的配置
- 基于Java的配置

　　**组成：**

- **Spring Core** ：核心类库，提供IOC服务
- **Spring Context** ：提供框架式的Bean访问方式，以及企业级功能（JNDI、定时任务等）
- **Spring AOP** ：AOP服务
- **Spring DAO** ：对JDBC的抽象，简化了数据访问异常的处理
- **Spring ORM** ：对现有的ORM框架的支持
- **Spring Web** ：提供了基本的面向Web的综合特性，例如多方文件上传
- **Spring MVC** ：提供面向Web应用的Model-View-Controller实现
- **Spring Test**：提供了对JUnit和TestNG测试的支持。

Spring IOC 负责创建对象，管理对象，通过依赖注入（DI），装配对象，配置对象，并且管理这些对象的整个生命周期

- **构造器依赖注入**：构造器依赖注入通过容器触发一个类的构造器来实现的，该类有一系列参数，每个参数代表一个对其他类的依赖。
- **Setter方法注入**：Setter方法注入是容器通过调用无参构造器或无参static工厂方法实例化bean之后，调用该bean的setter方法，即实现了基于setter的依赖注入。
- **根据注解注入**：如用@Autowired、@Resource等注解来进行Bean的注入。

AOP核心就是切面，它将多个类的通用行为封装成可重用的模块，该模块含有一组API提供横切功能。比如，一个日志模块可以被称作日志的AOP切面。根据需求的不同，一个应用程序可以有若干切面。在Spring AOP中，切面通过带有@Aspect注解的类实现。

5.MySQL 数据库和 SQL

事务的四大特性（ACID）

A 原子性:事务是最小的不可分割的工作单元

C 一致性:在一个事务中，事务前后数据的完整性必须保持一致，sql语句要么全部成功，要么失败，回滚到原状态。如银行转账，总的钱数不变

I 隔离性:不同事务之间具有隔离性

D 持久性:事务一旦结束，就不可以返回，不可以rollback

### mysql事务四大隔离级别

读未提交（read uncommitted）

不可重复读（read committed）

可重复读（repeatable read）

串行化（serializable）

## innodb与MyIsam的区别

InnoDB支持事务，而MyISAM不支持事务;

InnoDB支持行级锁，而MyISAM支持表级锁;

InnoDB支持MVCC(多版本并发控制), 而MyISAM不支持;

InnoDB支持外键，而MyISAM不支持;

InnoDB不支持全文索引，而MyISAM支持;

6.分库分表

垂直拆分，水平拆分，拆库，拆表

垂直切分的优点：

- 解决业务系统层面的耦合，业务清晰
- 与微服务的治理类似，也能对不同业务的数据进行分级管理、维护、监控、扩展等
- 高并发场景下，垂直切分一定程度的提升IO、数据库连接数、单机硬件资源的瓶颈

缺点：

- 部分表无法join，只能通过接口聚合方式解决，提升了开发的复杂度
- 分布式事务处理复杂
- 依然存在单表数据量过大的问题（需要水平切分）

水平切分的优点：

- 不存在单库数据量过大、高并发的性能瓶颈，提升系统稳定性和负载能力
- 应用端改造较小，不需要拆分业务模块

缺点：

- 跨分片的事务一致性难以保证
- 跨库的join关联查询性能较差
- 数据多次扩展难度和维护量极大

7.RPC 和微服务

1.RPC经过了哪些步骤？

在一次 RPC 调用过程中，客户端首先会将调用的类名、方法名、参数名、参数值等信息，序列化成二进制流
然后客户端将二进制流通过网络发送给服务端
服务端接收到二进制流之后将它反序列化，得到需要调用的类名、方法名、参数名和参数值，再通过动态代理的方式调用对应的方法得到返回值
服务端将返回值序列化，再通过网络发送给客户端
客户端对结果反序列化之后，就可以得到调用的结果了
2.服务注册与发现

- 客户端会与注册中心建立连接，并且告诉注册中心，它对哪一组服务感兴趣
- 服务端向注册中心注册服务后，注册中心会将最新的服务注册信息通知给客户端
- 客户端拿到服务端的地址之后就可以向服务端发起调用请求了

8.分布式缓存

Redis事务
MULTI 、EXEC 、DISCARD 和 WATCH 是 Redis 事务的基础。
事务可以一次执行多个命令，并且带有以下两个重要的保证：
事务是一个单独的隔离操作：事务中的所有命令都会序列化、按顺序地执行。事务在执行的过程中，不会被其他客户端发送来的命令请求所打断。
事务是一个原子操作：事务中的命令要么全部被执行，要么全部都不执行。
EXEC 命令负责触发并执行事务中的所有命令：
如果客户端在使用 MULTI 开启了一个事务之后，却因为断线而没有成功执行 EXEC ，那么事务中的所有命令都不会被执行。
另一方面，如果客户端成功在开启事务之后执行 EXEC ，那么事务中的所有命令都会被执行。
当使用 AOF 方式做持久化的时候，Redis 会使用单个  write(2)  命令将事务写入到磁盘中。
然而，如果 Redis 服务器因为某些原因被管理员杀死，或者遇上某种硬件故障，那么可能只有部分事务命令会被成功写入到磁盘中。
如果 Redis 在重新启动时发现 AOF 文件出了这样的问题，那么它会退出，并汇报一个错误。
使用  redis-check-aof  程序可以修复这一问题：它会移除 AOF 文件中不完整事务的信息，确保服务器可以顺利启动。

9.分布式消息队列

主流的消息队列有

- Kafka
- RabbitMQ
- RocketMQ ，老版本是 MetaQ 。
- ActiveMQ ，目前用的人越来越少了。

消息队列主要组成

生产者（Producer）：负责产生消息。
消费者（Consumer）：负责消费消息
消息代理（Message Broker）：负责存储消息和转发消息两件事情。其中，转发消息分为推送和拉取两种方式。
拉取（Pull），是指 Consumer 主动从 Message Broker 获取消息
推送（Push），是指 Message Broker 主动将 Consumer 感兴趣的消息推送给 Consumer 
